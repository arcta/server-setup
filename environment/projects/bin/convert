#!/bin/bash

########################################################################
### convert nb2md OR py2nb depend on file extension (ipynb|py)
### parameters: $1 project subdirectory; $2 file name
########################################################################
source ~/.local.cnf

if [ -f ~/projects/${1}/${2} ]; then
    filename=$(basename "$2")
    extension=$"${filename##*.}"

    if [ "$extension" == "py" ]; then
        echo "Converting Python to Notebook...$HOME/projects/${1}/${2}"
        python $HOME/project/py2nb.py $HOME/projects/${1}/${2}

    elif [ "$extension" == "ipynb" ]; then
        echo "Converting Notebook to Markdown..."
        cd ~/projects/${1}
        jupyter nbconvert --to markdown ~/projects/${1}/${2}

    else
        echo "Illegal option: .$extension expected .py or .ipynb"
    fi
else
    echo "File ~/projects/${1}/${2} does not exist."
fi
